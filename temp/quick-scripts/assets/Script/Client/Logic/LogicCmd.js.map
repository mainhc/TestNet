{"version":3,"sources":["LogicCmd.js"],"names":["LogicCmd","cc","Class","properties","MsgHandle","akLogicMsg","initLogicCmd","onLogicPlayerTrun","onLogicPlayerState","updateLogicCmd","dt","length","log","logicmsg","shift","DoHandleMsg","PushLogicMsg","logicMSg","push","msgFun","msgname","msgcmd","GameObjMgr","playerObjTurn","objLogicID","parseFloat","fDir","playerobjState","ObjState","module","exports"],"mappings":";;;;;;AAAA,IAAIA,WAAWC,GAAGC,KAAH,CAAS;AACnBC,gBAAY;AACNC,mBAAU,IADJ;AAENC,oBAAW;AAFL,KADO;;AAMpBC,kBAAa,wBACb;AACI,aAAKF,SAAL,GAAiB,EAAjB;AACA,aAAKA,SAAL,CAAe,oBAAf,IAAuC,KAAKG,iBAA5C;AACA,aAAKH,SAAL,CAAe,qBAAf,IAAwC,KAAKI,kBAA7C;AAGH,KAbmB;;AAepBC,kBAfoB,0BAeLC,EAfK,EAeF;AACd,YAAG,KAAKL,UAAL,CAAgBM,MAAhB,GAAyB,CAA5B,EACA;AACIV,eAAGW,GAAH,CAAO,yBAAyB,KAAKP,UAAL,CAAgBM,MAAhD;AACA,gBAAIE,WAAW,KAAKR,UAAL,CAAgBS,KAAhB,EAAf;AACA,iBAAKC,WAAL,CAAiBF,QAAjB;AACH;AAEJ,KAvBmB;;;AAyBpBG,kBAAa,sBAASC,QAAT,EAAkB;AAC3B,aAAKZ,UAAL,CAAgBa,IAAhB,CAAqBD,QAArB;AACH,KA3BmB;;AA6BpBF,iBAAY,qBAASE,QAAT,EACZ;AACI,YAAIE,SAAS,KAAKf,SAAL,CAAea,SAASG,OAAxB,CAAb;AACA,YAAGD,UAAU,IAAb,EACA;AACIA,mBAAOF,SAASI,MAAhB;AACH;AACJ,KApCmB;;AAsCpBd,uBAAkB,2BAASc,MAAT,EAAgB;;AAE9BpB,WAAGqB,UAAH,CAAcC,aAAd,CAA4BF,OAAOG,UAAnC,EAA+CC,WAAWJ,OAAOK,IAAlB,CAA/C;AACH,KAzCmB;;AA2CpBlB,wBAAmB,4BAASa,MAAT,EAAgB;AAC/BpB,WAAGqB,UAAH,CAAcK,cAAd,CAA6BN,OAAOG,UAApC,EAAgDH,OAAOO,QAAvD;AAEH;;AA9CmB,CAAT,CAAf;AAiDAC,OAAOC,OAAP,GAAiB,EAAC9B,kBAAD,EAAjB","file":"LogicCmd.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Client\\Logic","sourcesContent":["var LogicCmd = cc.Class({\r\n     properties: {\r\n           MsgHandle:null,\r\n           akLogicMsg:[],\r\n     },\r\n\r\n    initLogicCmd:function()\r\n    {\r\n        this.MsgHandle = {};\r\n        this.MsgHandle[\"Player.cPlayerTrun\"] = this.onLogicPlayerTrun;\r\n        this.MsgHandle[\"Player.cPlayerState\"] = this.onLogicPlayerState;\r\n\r\n\r\n    },\r\n\r\n    updateLogicCmd(dt){\r\n        if(this.akLogicMsg.length > 0)\r\n        {\r\n            cc.log(\"+++updateLogicCmd+++\" + this.akLogicMsg.length);\r\n            var logicmsg = this.akLogicMsg.shift();\r\n            this.DoHandleMsg(logicmsg);\r\n        }\r\n\r\n    },\r\n\r\n    PushLogicMsg:function(logicMSg){\r\n        this.akLogicMsg.push(logicMSg)\r\n    },\r\n\r\n    DoHandleMsg:function(logicMSg)\r\n    {\r\n        var msgFun = this.MsgHandle[logicMSg.msgname];\r\n        if(msgFun != null)\r\n        {\r\n            msgFun(logicMSg.msgcmd);\r\n        }\r\n    },\r\n\r\n    onLogicPlayerTrun:function(msgcmd){\r\n\r\n        cc.GameObjMgr.playerObjTurn(msgcmd.objLogicID, parseFloat(msgcmd.fDir));\r\n    },\r\n\r\n    onLogicPlayerState:function(msgcmd){\r\n        cc.GameObjMgr.playerobjState(msgcmd.objLogicID, msgcmd.ObjState);\r\n        \r\n    },\r\n   \r\n});\r\nmodule.exports = {LogicCmd};"]}