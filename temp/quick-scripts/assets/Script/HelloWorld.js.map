{"version":3,"sources":["HelloWorld.js"],"names":["protobuf","require","cClientNet","ClientNet","cc","Class","extends","Component","properties","label","default","type","Label","text","onLoad","string","Net","builder","newBuilder","protoFromFile","url","raw","PB","build","temp","Player","start","initNet","pCloseNetButton","node","getChildByName","on","Node","EventType","TOUCH_START","touchCloseNet","onDestroy","log","CloseNet","update","dt"],"mappings":";;;;;;AAAA,IAAIA,WAAWC,QAAQ,YAAR,CAAf;AACA,IAAIC,aAAaD,QAAQ,WAAR,EAAqBE,SAAtC;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAO;AACHC,qBAAS,IADN;AAEHC,kBAAMP,GAAGQ;AAFN,SADC;AAKR;AACAC,cAAM;AANE,KAHP;;AAYL;AACAC,YAAQ,kBAAY;AAChB,aAAKL,KAAL,CAAWM,MAAX,GAAoB,KAAKF,IAAzB;AACA,YAAGT,GAAGY,GAAH,IAAU,IAAb,EACA;AACIZ,eAAGY,GAAH,GAAS,IAAId,UAAJ,EAAT;AACH;AACD,YAAIe,UAAUjB,SAASkB,UAAT,EAAd;AACAlB,iBAASmB,aAAT,CAAuBf,GAAGgB,GAAH,CAAOC,GAAP,CAAW,kCAAX,CAAvB,EAAsEJ,OAAtE;;AAEA,YAAIK,KAAKL,QAAQM,KAAR,CAAc,iBAAd,CAAT;;AAEA,YAAKC,OAAO,IAAIF,GAAGG,MAAP,EAAZ;AAEH,KA1BI;;AA4BLC,WAAM,iBACN;AACI,YAAGtB,GAAGY,GAAH,IAAU,IAAb,EACA;;AAEI;AACAZ,eAAGY,GAAH,CAAOW,OAAP,CAAe,gBAAf,EAAgC,OAAhC;AACA;AACH;AACD,YAAIC,kBAAkB,KAAKC,IAAL,CAAUC,cAAV,CAAyB,QAAzB,CAAtB;AACA,YAAGF,mBAAmB,IAAtB,EACA;AACIA,4BAAgBG,EAAhB,CAAmB3B,GAAG4B,IAAH,CAAQC,SAAR,CAAkBC,WAArC,EAAkD,KAAKC,aAAvD,EAAqE,IAArE;AACH;AACJ,KA1CI;;AA4CLC,eAAU,qBACV;AACIhC,WAAGiC,GAAH,CAAO,8BAAP;AACH,KA/CI;;AAiDLF,mBAAc,yBACd;AACI/B,WAAGY,GAAH,CAAOsB,QAAP;AACH,KApDI;;AAsDL;AACAC,YAAQ,gBAAUC,EAAV,EAAc,CAErB;AAzDI,CAAT","file":"HelloWorld.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["let protobuf = require(\"protobufjs\");\r\nvar cClientNet = require(\"ClientNet\").ClientNet;\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        label: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        // defaults, set visually when attaching this script to the Canvas\r\n        text: 'Hello, World!'\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.label.string = this.text;\r\n        if(cc.Net == null)\r\n        {\r\n            cc.Net = new cClientNet;\r\n        }\r\n        let builder = protobuf.newBuilder();\r\n        protobuf.protoFromFile(cc.url.raw('resources/msgconfig/Player.proto'),builder);\r\n        \r\n        let PB = builder.build('grace.proto.msg');\r\n        \r\n        var  temp = new PB.Player();\r\n\r\n    },\r\n\r\n    start:function()\r\n    {\r\n        if(cc.Net != null)\r\n        {\r\n            \r\n            //cc.Net.initNet(\"127.0.0.1\",\"9897\");\r\n            cc.Net.initNet(\"192.168.216.81\",\"10131\");\r\n            //cc.Net.initNet(\"192.168.112.100\",\"10131\");            \r\n        }\r\n        var pCloseNetButton = this.node.getChildByName(\"button\");\r\n        if(pCloseNetButton != null)\r\n        {\r\n            pCloseNetButton.on(cc.Node.EventType.TOUCH_START, this.touchCloseNet,this);\r\n        }\r\n    },\r\n\r\n    onDestroy:function()\r\n    {\r\n        cc.log(\"+++++++++++++++++++onDestroy\");\r\n    },\r\n\r\n    touchCloseNet:function()\r\n    {\r\n        cc.Net.CloseNet();\r\n    },\r\n\r\n    // called every frame\r\n    update: function (dt) {\r\n\r\n    },\r\n});\r\n"]}